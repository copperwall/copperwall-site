<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.b06b2600d709496d733b.css">a{text-decoration:none}</style><meta name="generator" content="Gatsby 2.1.4"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-55223bcc0ee936eb66f2.js"/><link as="script" rel="preload" href="/0-85912511608260efd9e6.js"/><link as="script" rel="preload" href="/app-122c52d0e65c3530e375.js"/><link as="script" rel="preload" href="/styles-3408986964b82850da36.js"/><link as="script" rel="preload" href="/webpack-runtime-57f31d95c48fe5528c16.js"/><link as="fetch" rel="preload" href="/static/d/463/path---2016-10-08-make-an-old-printer-a-networked-printer-bc-5-cfb-VELpL2pcLPXnuxUvTx1AmHTkQHM.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><style data-emotion-css="1gh2tui">.css-1gh2tui{margin:0 auto;max-width:700px;padding:3.25rem;padding-top:2.4375rem;}</style><div class="css-1gh2tui"><a href="/"><style data-emotion-css="9xo11w">.css-9xo11w{margin-bottom:3.25rem;display:inline-block;font-style:normal;}</style><h3 class="css-9xo11w">Copperwall Blog</h3></a><style data-emotion-css="146q31f">.css-146q31f{float:right;}</style><a class="css-146q31f" href="/about/">About</a><div><h1>How to make an old printer a networked printer</h1><div><p>I recently became the proud owner of a hand me down <a href="http://support.hp.com/us-en/product/HP-LaserJet-1020-Printer-series/439423">HP LaserJet 1020</a>. It's a fairly basic laser printer that prints in black and white, and only has a USB 2.0 interface. I was happy to take it, since I only really print text documents and I wouldn't have to spend a ridiculous amount of money on printer ink, but I wanted a printer that I could use from my laptop or my desktop. I also did not want to have to depend on my desktop or laptop to be on for the printer to receive print jobs. I had an unused Raspberry Pi 2 sitting around, so I thought that using the Raspberry Pi as a print server would do the trick.</p>
<h3>Setting up the Pi</h3>
<p>The first step to getting a networked printer was to install Linux on the Raspberry Pi. I chose to use the <a href="https://www.raspberrypi.org/downloads/raspbian/">Raspian Jessie Lite</a> image. Since I'm not planning on running a display server on this Pi, I chose to dedicate the smallest split of RAM to video.</p>
<p>Once the Pi was up and running I plugged in the printer to the Pi and installed CUPS.</p>
<h3>Installing/Configuring CUPS</h3>
<p>To install CUPS run</p>
<pre><code class="language-sh">sudo apt install cups
</code></pre>
<p>Once CUPS is installed, it's helpful to add your current user to the <code>lpadmin</code> user group so that you can do administrative actions within the CUPS web UI.</p>
<p>To add your user to the <code>lpadmin</code> group run</p>
<pre><code class="language-sh"># Using the pi user as an example
sudo usermod -a -G lpadmin pi
</code></pre>
<p>It is also helpful to edit the CUPS config file to have CUPS listen on a port so that you can access it's configuration UI from another computer.</p>
<p>In <code>/etc/cups/cupsd.conf</code> find a line that looks like</p>
<pre><code>Listen localhost:631
</code></pre>
<p>Comment that line out and add new line that says <code>Port 631</code>. The config file should like this at this point.</p>
<pre><code># Listen localhost:631
Port 631
</code></pre>
<p>Following that, add a line <code>Allow @local</code> to the <code>Location</code> blocks further down in the config file. It should look like</p>
<pre><code>&#x3C; Location / >
# Restrict access to the server...
Order allow,deny
# Add this line here
Allow @local
&#x3C; /Location >

&#x3C; Location /admin >
# Restrict access to the admin pages...
Order allow,deny
# Add this line here
Allow @local
&#x3C; /Location >

&#x3C; Location /admin/conf >
AuthType Default
Require user @SYSTEM

# Restrict access to the configuration files...
Order allow,deny
# Add this line here
Allow @local
&#x3C; /Location >
</code></pre>
<p><strong><em>DISCLAIMER:</em></strong> This means that any one on your LAN can view the CUPS web UI. They still need your system user password to do administrative tasks, but they can view some printer statuses.</p>
<p>After this, restart CUPS using the command</p>
<pre><code class="language-sh">sudo systemctl restart cups
</code></pre>
<p>Now you can access the CUPS web UI by going to <code>http://&#x3C;your pi's ip address>:631</code>.</p>
<p>Click the <code>Add Printer</code> button and login with your system username and password.</p>
<p>Look for your printer in the Local Printers list. I checked the Share This Printer checkbox, but I'm not sure if that's necessary.</p>
<p>On the next screen, see if the list of models has an entry for your printer model. If you don't see your model, check to see if your model is supported by <a href="http://foo2zjs.rkkda.com/">foo2zjs</a>. My LaserJet 1020 did not have a driver in CUPS, so I downloaded the zipped archive for my printer from <code>foo2zjs</code>.</p>
<h3>Drivers from foo2zjs</h3>
<p>To build a driver from <code>foo2zjs</code></p>
<pre><code class="language-sh">tar xvf foo2zjs.tar.gz
cd foo2zjs
make
sudo make install
</code></pre>
<p>The <code>INSTALL</code> file will give you additional information about compiling and installing foo2zjs drivers.</p>
<p>After this you should restart CUPS again.</p>
<p>At this point you should be able to add your printer with the CUPS web UI using the <code>zoo2zjs</code> driver listed in the list of printer models in the Add Printer page.</p>
<h3>Printing from other computers</h3>
<p>I was able to connect with this printer over OSX and Linux using the <code>ipp://&#x3C;hostname>:631/printers/&#x3C;printer_name></code> address.</p>
<p>So, if your Pi's IP address is <code>192.168.2.2</code> and the printer name you gave your printer is <code>cool_printer</code>, the address would be <code>ipp://192.168.2.2:631/printers/cool_printer</code>.</p>
<p>For some reason I wasn't able to get this to work on Windows. I read a little that people have more luck sharing a printer using Samba, but I don't really use Windows enough to warrant the extra work.</p></div></div><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/></a></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2016-10-08-make-an-old-printer-a-networked-printer-bc5","path":"/2016-10-08-make-an-old-printer-a-networked-printer/"};window.dataPath="463/path---2016-10-08-make-an-old-printer-a-networked-printer-bc-5-cfb-VELpL2pcLPXnuxUvTx1AmHTkQHM";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-122c52d0e65c3530e375.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-55223bcc0ee936eb66f2.js"],"component---src-pages-about-js":["/component---src-pages-about-js-95a78d56f5c264bba832.js"],"component---src-pages-index-js":["/component---src-pages-index-js-da2faa332dbec3f2603f.js"],"pages-manifest":["/pages-manifest-5a4bb7182421bb6c33c2.js"]};/*]]>*/</script><script src="/webpack-runtime-57f31d95c48fe5528c16.js" async=""></script><script src="/styles-3408986964b82850da36.js" async=""></script><script src="/app-122c52d0e65c3530e375.js" async=""></script><script src="/0-85912511608260efd9e6.js" async=""></script><script src="/component---src-templates-blog-post-js-55223bcc0ee936eb66f2.js" async=""></script></body></html>